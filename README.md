# Персональный прототип (Docker)

Минимальный рабочий вариант персонального веб‑пространства: Python‑backend на стандартной библиотеке и статический frontend в стиле Apple. Реализованы регистрация/логин с cookie‑сессией, простые заметки в Markdown и сохранение данных в SQLite.

> Прототип не тянет внешние зависимости из сети, поэтому шифрование персональных полей реализовано упрощённым XOR и подходит только для локального теста. В production замените его на AES‑GCM/ChaCha20‑Poly1305 из проверенной библиотеки.

## Как запустить

Требуется Docker и Docker Compose.

```bash
docker-compose up --build
```

Доступы по умолчанию:
- Backend: http://localhost:8000 (REST API)
- Frontend: http://localhost:4173 (статический SPA)

Переменные окружения (пример для `.env`):
```
APP_SECRET=super-secret-key
FRONTEND_ORIGIN=http://localhost:4173
```

## Функции
- Регистрация/вход с httpOnly cookie, хранение сессий в SQLite.
- Хеширование паролей через `scrypt` (stdlib) с солью.
- Персональные поля (ФИО/телефон) сохраняются в зашифрованном виде (прототип).
- CRUD заметок (Markdown), предпросмотр на клиенте.
- Адаптивный интерфейс в стилистике Apple (статический CSS/JS, без сборки).

## Структура
- `backend/` — Python HTTP server + SQLite, Dockerfile.
- `frontend/` — статическая страница (HTML/CSS/JS), Dockerfile.
- `docker-compose.yml` — запуск двух контейнеров и volume `app_data` для БД.

## Ограничения и TODO
- Шифрование персональных данных упрощено из‑за отсутствия внешних библиотек — заменить на настоящую криптографию.
- Нет rate‑limit и полноценного sanitization Markdown: для боевого режима добавьте фильтрацию входных данных и CSP.
- Нет резервного копирования volume `app_data` — добавьте cron/скрипт `pg_dump`/`sqlite3 .backup` при переносе в прод.
